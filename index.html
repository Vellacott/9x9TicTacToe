<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9x9 Tic-Tac-Toe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="setup-screen" id="setup-screen">
        <h2>Game Setup</h2>
        <div class="setup-option">
            <label>Game Mode:</label>
            <div class="radio-group">
                <label class="radio-label">
                    <input type="radio" name="game-mode" value="2player" checked>
                    <span>Two Players (Local)</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="game-mode" value="online">
                    <span>Online Multiplayer</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="game-mode" value="1player">
                    <span>vs Computer</span>
                </label>
            </div>
        </div>
        <div class="setup-option" id="online-options" style="display: none;">
            <label>Online Action:</label>
            <div class="radio-group">
                <label class="radio-label">
                    <input type="radio" name="online-action" value="create" checked>
                    <span>Create Game</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="online-action" value="join">
                    <span>Join Game</span>
                </label>
            </div>
            <div id="join-game-input" style="display: none; margin-top: 15px;">
                <input type="text" id="game-id-input" placeholder="Enter Game ID" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;">
            </div>
            <div id="game-id-display" style="display: none; margin-top: 15px; padding: 10px; background: #f0f0f0; border-radius: 8px;">
                <label style="font-size: 0.9em; color: #666;">Game ID:</label>
                <div style="font-family: monospace; font-size: 1.2em; font-weight: bold; color: #667eea; margin-top: 5px;" id="game-id-text"></div>
                <button id="copy-link-btn" style="margin-top: 10px; padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9em;">Copy Game Link</button>
                <div style="font-size: 0.85em; color: #666; margin-top: 8px;">Waiting for opponent to join...</div>
            </div>
        </div>
        <div class="setup-option" id="computer-options" style="display: none;">
            <label>Difficulty:</label>
            <select id="difficulty">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
            </select>
        </div>
        <div class="setup-option" id="player-order-options" style="display: none;">
            <label>You Play:</label>
            <div class="radio-group">
                <label class="radio-label">
                    <input type="radio" name="player-order" value="first" checked>
                    <span>First (X)</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="player-order" value="second">
                    <span>Second (O)</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="player-order" value="random">
                    <span>Random</span>
                </label>
            </div>
        </div>
        <div class="setup-buttons">
            <button class="btn-primary" id="start-btn">Start Game</button>
            <button class="btn-secondary" id="cancel-btn" style="display: none;">Cancel</button>
        </div>
    </div>
    <div class="container hidden" id="game-container">
        <h1>9x9 Tic-Tac-Toe</h1>
        <div class="game-info">
            <div class="current-player">
                <span>Current Player: </span>
                <span id="player-indicator">X</span>
            </div>
            <div class="status" id="status">Player X's turn</div>
            <button id="reset-btn" class="reset-btn">New Game</button>
            <button id="debug-btn" class="reset-btn" style="margin-left: 10px; background: #666;">Debug Info</button>
        </div>
        <div id="debug-panel" style="display: none; margin: 20px; padding: 15px; background: #f5f5f5; border-radius: 8px; font-family: monospace; font-size: 0.85em;">
            <h3>Game State Debug Info</h3>
            <pre id="debug-content" style="white-space: pre-wrap; word-wrap: break-word;"></pre>
            <button id="copy-state-btn" style="margin-top: 10px; padding: 5px 10px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer;">Copy State to Clipboard</button>
        </div>
        <div class="global-board" id="global-board">
            <!-- 9 local boards will be generated here -->
        </div>
    </div>
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
        
        // Import config
        // IMPORTANT: Update databaseURL below to match your actual Firebase Realtime Database URL
        // Find it in Firebase Console → Realtime Database → Data tab (shown at top of page)
        const firebaseConfig = {
            apiKey: "AIzaSyBfvaihunBWyPwrXnlT-WJUnq39JDgFjK4",
            authDomain: "x9tictactoe.firebaseapp.com",
            projectId: "x9tictactoe",
            storageBucket: "x9tictactoe.firebasestorage.app",
            messagingSenderId: "570996168776",
            appId: "1:570996168776:web:0b481351bddc391cfee07d",
            measurementId: "G-60NP2G1VZE",
            // Update this URL to match your actual database URL from Firebase Console
            databaseURL: "https://x9tictactoe-default-rtdb.firebaseio.com/"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        // Make database available globally
        window.firebaseDatabase = database;
    </script>
    <script src="script.js"></script>
</body>
</html>

